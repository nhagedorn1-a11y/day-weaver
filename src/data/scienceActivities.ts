import { ScienceActivity, LabCard } from '@/types/activities';

// Science lanes - reframed as guided exploration (not fake games)
export const SCIENCE_LANES = [
  { id: 'nature', name: 'Nature Walk', emoji: 'ðŸŒ¿', color: 'bg-calm' },
  { id: 'weather', name: 'Weather Watch', emoji: 'ðŸŒ¤ï¸', color: 'bg-primary' },
  { id: 'space', name: 'Space Facts', emoji: 'ðŸš€', color: 'bg-secondary' },
  { id: 'micro', name: 'Real Experiments', emoji: 'ðŸ§ª', color: 'bg-token' },
] as const;

// Guided activities - step-by-step prompts for REAL exploration
export const scienceActivities: ScienceActivity[] = [
  // Nature Walk - real observation activities
  {
    id: 'nature-leaf-hunt',
    title: 'Leaf Hunt',
    lane: 'nature',
    icon: 'ðŸ‚',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Go outside or look out a window',
      'Find a leaf - any leaf!',
      'What color is it?',
      'Is it smooth or bumpy?',
      'Is it bigger than your hand?',
      'You discovered a leaf! ðŸŒŸ',
    ],
    successCriteria: 'Observe a real leaf',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-leaf-types',
  },
  {
    id: 'nature-bug-watch',
    title: 'Bug Spotter',
    lane: 'nature',
    icon: 'ðŸ›',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Look carefully at the ground or plants',
      'Can you spot any bugs?',
      'How many legs does it have?',
      'Is it moving fast or slow?',
      'What color is it?',
      'Great observation! ðŸ”',
    ],
    successCriteria: 'Look for bugs',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-insect-facts',
  },
  {
    id: 'nature-cloud-watch',
    title: 'Cloud Shapes',
    lane: 'nature',
    icon: 'â˜ï¸',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Look up at the sky',
      'Find a cloud',
      'What shape does it look like?',
      'Is it moving? Which way?',
      'Is it fluffy or flat?',
      'You watched the clouds! â›…',
    ],
    successCriteria: 'Observe clouds',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-cloud-types',
  },
  {
    id: 'nature-rock-hunt',
    title: 'Rock Hunter',
    lane: 'nature',
    icon: 'ðŸª¨',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Find 3 different rocks',
      'Are they rough or smooth?',
      'What colors do you see?',
      'Which is heaviest?',
      'Which is your favorite?',
      'Rock collection started! ðŸ’Ž',
    ],
    successCriteria: 'Collect and compare rocks',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-rock-types',
  },
  
  // Weather Watch - observation and learning
  {
    id: 'weather-check',
    title: 'Weather Report',
    lane: 'weather',
    icon: 'ðŸ“‹',
    durationOptions: [2, 5],
    difficulty: 1,
    instructions: [
      'Look outside',
      'Is the sun out? Or is it cloudy?',
      'Is it raining or snowing?',
      'Does the wind blow the trees?',
      'You made a weather report! ðŸŒ¡ï¸',
    ],
    successCriteria: 'Observe the weather',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-weather-symbols',
  },
  {
    id: 'weather-temperature',
    title: 'Hot or Cold?',
    lane: 'weather',
    icon: 'ðŸŒ¡ï¸',
    durationOptions: [2, 5],
    difficulty: 1,
    instructions: [
      'Step outside briefly (or open a window)',
      'How does the air feel?',
      'Is it warm or cold?',
      'Would you wear a jacket today?',
      'Great temperature check! â˜€ï¸',
    ],
    successCriteria: 'Feel the temperature',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-seasons',
  },
  {
    id: 'weather-clothes',
    title: 'Dress for Weather',
    lane: 'weather',
    icon: 'ðŸ‘•',
    durationOptions: [2, 5],
    difficulty: 1,
    instructions: [
      'Look at the weather outside',
      'What would you wear if you went out?',
      'Shorts or pants?',
      'T-shirt or sweater?',
      'Umbrella or sunglasses?',
      'Great thinking! ðŸ‘—',
    ],
    successCriteria: 'Match clothes to weather',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'guided',
    labCardId: 'card-weather-clothes',
  },
  
  // Space Facts - learning with audio narration
  {
    id: 'space-planets',
    title: 'Planet Facts',
    lane: 'space',
    icon: 'ðŸª',
    durationOptions: [2, 5],
    difficulty: 1,
    instructions: [
      'The Sun is a star! â˜€ï¸',
      'Earth goes around the Sun ðŸŒ',
      'The Moon goes around Earth ðŸŒ™',
      'Mars is called the Red Planet ðŸ”´',
      'Jupiter is the biggest planet! ðŸŸ¤',
      'You learned about space! ðŸš€',
    ],
    // Visual for each instruction step
    visualSteps: [
      { emoji: 'â˜€ï¸', planet: 'sun', label: 'The Sun', size: 'giant' },
      { emoji: 'ðŸŒ', planet: 'earth', label: 'Earth', size: 'small' },
      { emoji: 'ðŸŒ™', planet: 'moon', label: 'The Moon', size: 'tiny' },
      { emoji: 'ðŸ”´', planet: 'mars', label: 'Mars', size: 'small' },
      { emoji: 'ðŸŸ¤', planet: 'jupiter', label: 'Jupiter', size: 'huge' },
      { emoji: 'ðŸš€', planet: 'all', label: 'Solar System', size: 'all' },
    ],
    successCriteria: 'Learn space facts',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'guided',
    labCardId: 'card-solar-system',
  },
  {
    id: 'space-moon',
    title: 'Moon Watcher',
    lane: 'space',
    icon: 'ðŸŒ™',
    durationOptions: [2, 5],
    difficulty: 1,
    instructions: [
      'Tonight, look for the Moon',
      'Is it a full circle? ðŸŒ•',
      'Or is it a half circle? ðŸŒ“',
      'Maybe just a sliver? ðŸŒ’',
      'The Moon changes shape each night!',
    ],
    // Visual phases for each instruction step
    visualSteps: [
      { emoji: 'ðŸŒ™', phase: 'intro', label: 'Look up!' },
      { emoji: 'ðŸŒ•', phase: 'full', label: 'Full Moon' },
      { emoji: 'ðŸŒ“', phase: 'half', label: 'Half Moon' },
      { emoji: 'ðŸŒ’', phase: 'crescent', label: 'Crescent' },
      { emoji: 'ðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜', phase: 'cycle', label: 'Moon Cycle' },
    ],
    successCriteria: 'Learn about moon phases',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-moon-phases',
  },
  {
    id: 'space-stars',
    title: 'Star Counter',
    lane: 'space',
    icon: 'â­',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'At night, look up at the sky',
      'Can you see any stars?',
      'Try counting them!',
      'Some stars make patterns',
      'You gazed at the stars! âœ¨',
    ],
    successCriteria: 'Look at stars',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-star-facts',
  },
  
  // Real Experiments - with adult supervision
  {
    id: 'micro-sink-float',
    title: 'Sink or Float',
    lane: 'micro',
    icon: 'ðŸ’§',
    durationOptions: [5, 10],
    difficulty: 2,
    instructions: [
      'Get a bowl of water (ask an adult)',
      'Find small objects: coin, leaf, cork',
      'PREDICT: Will it sink or float?',
      'Drop it in gently',
      'Were you right? Try another!',
      'You did a real experiment! ðŸ§ª',
    ],
    materials: ['Bowl of water', 'Small objects (coin, leaf, cork)'],
    successCriteria: 'Test sink/float predictions',
    tokenReward: 3,
    accessibilityFlags: {},
    type: 'practice',
    labCardId: 'card-density',
  },
  {
    id: 'micro-rainbow-paper',
    title: 'Rainbow Paper',
    lane: 'micro',
    icon: 'ðŸŒˆ',
    durationOptions: [5, 10],
    difficulty: 2,
    instructions: [
      'Get a paper towel (ask an adult)',
      'Draw dots with washable markers',
      'Dip just the edge in water',
      'Watch the colors climb up!',
      'Colors travel through paper! ðŸŽ¨',
    ],
    materials: ['Paper towel', 'Washable markers', 'Cup of water'],
    successCriteria: 'Watch color absorption',
    tokenReward: 3,
    accessibilityFlags: {},
    type: 'practice',
    labCardId: 'card-absorption',
  },
  {
    id: 'micro-shadow-play',
    title: 'Shadow Sizes',
    lane: 'micro',
    icon: 'ðŸ‘¤',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Find a flashlight or sunny spot',
      'Hold up your hand',
      'Move closer to the light',
      'Your shadow gets BIGGER!',
      'Move away - it gets smaller!',
      'You learned about shadows! ðŸ”¦',
    ],
    materials: ['Flashlight or sunlight'],
    successCriteria: 'Explore shadow sizes',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'practice',
    labCardId: 'card-light-shadows',
  },
  {
    id: 'micro-magnify',
    title: 'Look Closer',
    lane: 'micro',
    icon: 'ðŸ”',
    durationOptions: [5, 10],
    difficulty: 1,
    instructions: [
      'Find a magnifying glass (or zoom on a phone)',
      'Pick something small: penny, leaf, or fabric',
      'Look closely - what do you see?',
      'Can you see details you missed before?',
      'Everything has tiny details! ðŸ”¬',
    ],
    materials: ['Magnifying glass or phone camera'],
    successCriteria: 'Observe small details',
    tokenReward: 2,
    accessibilityFlags: {},
    type: 'explore',
    labCardId: 'card-magnification',
  },
  {
    id: 'micro-ice-melt',
    title: 'Ice Race',
    lane: 'micro',
    icon: 'ðŸ§Š',
    durationOptions: [10, 15],
    difficulty: 2,
    instructions: [
      'Get 2 ice cubes (ask an adult)',
      'Put one in the sun, one in shade',
      'Which will melt first?',
      'Check every 2 minutes',
      'Heat makes things melt faster! â˜€ï¸',
    ],
    materials: ['2 ice cubes', '2 plates'],
    successCriteria: 'Observe melting rates',
    tokenReward: 3,
    accessibilityFlags: {},
    type: 'practice',
    labCardId: 'card-states-matter',
  },
];

// Lab cards - collectible facts (matched to activities)
export const labCards: LabCard[] = [
  // Nature cards
  {
    id: 'card-leaf-types',
    title: 'Leaf Shapes',
    category: 'nature',
    emoji: 'ðŸ‚',
    funFact: 'Leaves come in all shapes! Some are pointy, some are round, and some look like hands.',
    funFactAudio: 'Leaves come in all shapes! Some are pointy, some are round, and some look like hands.',
    imageDescription: 'Different leaf shapes',
    tryAgainChallenge: 'Find 3 different leaf shapes!',
    unlocked: false,
  },
  {
    id: 'card-insect-facts',
    title: 'Insect Bodies',
    category: 'nature',
    emoji: 'ðŸœ',
    funFact: 'All insects have 6 legs! Spiders have 8, so they are not insects.',
    funFactAudio: 'All insects have 6 legs! Spiders have 8, so they are not insects.',
    imageDescription: 'Insect with 6 legs',
    tryAgainChallenge: 'Count the legs on the next bug you see!',
    unlocked: false,
  },
  {
    id: 'card-cloud-types',
    title: 'Cloud Types',
    category: 'nature',
    emoji: 'â˜ï¸',
    funFact: 'Fluffy clouds are called cumulus. Flat clouds are called stratus. Wispy clouds are cirrus!',
    funFactAudio: 'Fluffy clouds are called cumulus. Flat clouds are called stratus. Wispy clouds are cirrus!',
    imageDescription: 'Different cloud types',
    tryAgainChallenge: 'Can you name the cloud type today?',
    unlocked: false,
  },
  {
    id: 'card-rock-types',
    title: 'Rock Types',
    category: 'nature',
    emoji: 'ðŸª¨',
    funFact: 'Some rocks are millions of years old! Rocks can be smooth from water or rough from breaking.',
    funFactAudio: 'Some rocks are millions of years old! Rocks can be smooth from water or rough from breaking.',
    imageDescription: 'Different rock types',
    tryAgainChallenge: 'Start a rock collection!',
    unlocked: false,
  },
  
  // Weather cards
  {
    id: 'card-weather-symbols',
    title: 'Weather Symbols',
    category: 'weather',
    emoji: 'â˜€ï¸',
    funFact: 'Weather forecasters use symbols like sun, clouds, and raindrops to show what the weather will be!',
    funFactAudio: 'Weather forecasters use symbols like sun, clouds, and raindrops to show what the weather will be!',
    imageDescription: 'Weather map symbols',
    tryAgainChallenge: 'Draw your own weather symbol for today!',
    unlocked: false,
  },
  {
    id: 'card-seasons',
    title: 'Four Seasons',
    category: 'weather',
    emoji: 'ðŸ',
    funFact: 'Earth has 4 seasons because it tilts as it goes around the Sun!',
    funFactAudio: 'Earth has 4 seasons because it tilts as it goes around the Sun!',
    imageDescription: 'Four seasons illustration',
    tryAgainChallenge: 'What season is it right now?',
    unlocked: false,
  },
  {
    id: 'card-weather-clothes',
    title: 'Weather Clothes',
    category: 'weather',
    emoji: 'ðŸ‘•',
    funFact: 'We wear different clothes in different weather to keep our body comfortable!',
    funFactAudio: 'We wear different clothes in different weather to keep our body comfortable!',
    imageDescription: 'Seasonal clothing',
    tryAgainChallenge: 'Pick your outfit based on the weather!',
    unlocked: false,
  },
  
  // Space cards
  {
    id: 'card-solar-system',
    title: 'Solar System',
    category: 'space',
    emoji: 'ðŸŒ',
    funFact: 'There are 8 planets in our solar system. Earth is the 3rd planet from the Sun!',
    funFactAudio: 'There are 8 planets in our solar system. Earth is the 3rd planet from the Sun!',
    imageDescription: 'Planets orbiting the sun',
    tryAgainChallenge: 'Can you name 3 planets?',
    unlocked: false,
  },
  {
    id: 'card-moon-phases',
    title: 'Moon Phases',
    category: 'space',
    emoji: 'ðŸŒ™',
    funFact: 'The Moon looks different each night! It takes about a month to go from full moon to full moon.',
    funFactAudio: 'The Moon looks different each night! It takes about a month to go from full moon to full moon.',
    imageDescription: 'Moon phase cycle',
    tryAgainChallenge: 'Check the Moon tonight - what phase is it?',
    unlocked: false,
  },
  {
    id: 'card-star-facts',
    title: 'Star Facts',
    category: 'space',
    emoji: 'â­',
    funFact: 'Stars look tiny but theyre actually huge! They just look small because theyre so far away.',
    funFactAudio: 'Stars look tiny but theyre actually huge! They just look small because theyre so far away.',
    imageDescription: 'Night sky with stars',
    tryAgainChallenge: 'Count how many stars you can see!',
    unlocked: false,
  },
  
  // Experiment cards
  {
    id: 'card-density',
    title: 'Density',
    category: 'micro',
    emoji: 'âš–ï¸',
    funFact: 'Things that are heavier for their size sink. Light things float! This is called density.',
    funFactAudio: 'Things that are heavier for their size sink. Light things float! This is called density.',
    imageDescription: 'Objects floating and sinking',
    tryAgainChallenge: 'Test 5 different objects!',
    unlocked: false,
  },
  {
    id: 'card-absorption',
    title: 'Absorption',
    category: 'micro',
    emoji: 'ðŸ§½',
    funFact: 'Paper towels have tiny holes that soak up water. This is called absorption!',
    funFactAudio: 'Paper towels have tiny holes that soak up water. This is called absorption!',
    imageDescription: 'Water climbing paper',
    tryAgainChallenge: 'Try different papers - which absorbs best?',
    unlocked: false,
  },
  {
    id: 'card-light-shadows',
    title: 'Light & Shadows',
    category: 'micro',
    emoji: 'ðŸ”¦',
    funFact: 'Shadows happen when something blocks light. Closer to the light = bigger shadow!',
    funFactAudio: 'Shadows happen when something blocks light. Closer to the light = bigger shadow!',
    imageDescription: 'Shadow puppet',
    tryAgainChallenge: 'Make a shadow puppet!',
    unlocked: false,
  },
  {
    id: 'card-magnification',
    title: 'Magnification',
    category: 'micro',
    emoji: 'ðŸ”¬',
    funFact: 'Magnifying glasses bend light to make things look bigger. Scientists use microscopes to see even smaller things!',
    funFactAudio: 'Magnifying glasses bend light to make things look bigger. Scientists use microscopes to see even smaller things!',
    imageDescription: 'Magnifying glass closeup',
    tryAgainChallenge: 'Look at your fingerprint up close!',
    unlocked: false,
  },
  {
    id: 'card-states-matter',
    title: 'States of Matter',
    category: 'micro',
    emoji: 'ðŸ§Š',
    funFact: 'Things can be solid, liquid, or gas. Ice melts into water, and water can become steam!',
    funFactAudio: 'Things can be solid, liquid, or gas. Ice melts into water, and water can become steam!',
    imageDescription: 'Ice, water, and steam',
    tryAgainChallenge: 'Watch ice melt and time it!',
    unlocked: false,
  },
];

// Helper functions
export function getActivitiesByLane(lane: string): ScienceActivity[] {
  return scienceActivities.filter(a => a.lane === lane);
}

export function getLabCardById(id: string): LabCard | undefined {
  return labCards.find(c => c.id === id);
}

export function getLabCardsByCategory(category: string): LabCard[] {
  return labCards.filter(c => c.category === category);
}
